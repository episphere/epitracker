<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport">

  <link crossorigin="anonymous" type="text/css" rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" defer />
  <link href="https://unpkg.com/tabulator-tables@6.2.1/dist/css/tabulator_bootstrap5.css" rel="stylesheet">


  <!-- <link rel="stylesheet" href="https://unpkg.com/simplebar@latest/dist/simplebar.css"/> -->
  <!-- <script src="https://unpkg.com/simplebar@latest/dist/simplebar.min.js"></script> -->

  <title>EpiTracker Quantiles</title>
</head>

<!--
TODO: Ensure aria labels are up-to-date.
TODO: Hookup search, etc. 
TODO: Get website working on mobile.
TODO: Re-add "back to top" correctly.
TODO: Set-up templates for header, footer, etc.
-->

<!-- NOTE: In comments, square brackets indiciates mobile only, asterisk indicates mobile variant present -->

<body>
  <!-- Top "Official Site" banner -->
  <include src="pages/partials/_header.html"></include>

  <main id="main-content" class="main-content type  padding-y-3">
    <div class="grid-container">
      <div class="grid-row">
        <div class="grid-col-auto display-flex flex-column width-card-lg" >  
          <div class="usa-form-group ">  
            <h2 class="nci-heading-h2 margin-top-4">Data Options</h2>     
            <h3 class="nci-heading-h3 margin-top-2">Compare</h3>
            
            <label class="usa-label text-bold usa-label-short-margin" for="select-compare-color">Within Plot</label>
            <select class="usa-select" name="select-compare-color" id="select-compare-color" disabled></select>

            <label class="usa-label text-bold usa-label-short-margin" for="select-compare-facet">Between Plot</label>
            <select class="usa-select" name="select-compare-facet" id="select-compare-facet" disabled></select>

            <h3 class="nci-heading-h3">Select</h3>

         
            <label class="usa-label text-bold usa-label-short-margin" for="select-select-cause">Cancer Site</label>
            <div id="combo-select-cause" class="usa-combo-box">
              <select class="usa-select" name="select-select-cause" id="select-select-cause" disabled>
                <!-- <option value="apple">Apple</option>
                <option value="apricot">Apricot</option>
                <option value="avocado">Avocado</option> -->
              </select>
            </div>
  
  
            <label class="usa-label text-bold usa-label-short-margin" for="select-select-sex">Sex</label>
            <select class="usa-select" name="select-select-sex" id="select-select-sex" disabled></select>
  
            <label class="usa-label text-bold usa-label-short-margin" for="select-select-race">Race/Ethnicity</label>
            <select class="usa-select" name="select-select-race" id="select-select-race" disabled></select>

            <h3 class="nci-heading-h3">Stratify Quantiles</h3>

            <label class="usa-label text-bold usa-label-short-margin" for="select-quantile-field">County Characteristic</label>
            <div id="combo-quantile-field" class="usa-combo-box">
              <select class="usa-select" name="select-quantile-field" id="select-quantile-field" disabled></select>
            </div>
  
            <label class="usa-label text-bold usa-label-short-margin" for="select-quantile-number">Number of Quantiles</label>
            <select class="usa-select" name="select-quantile-number" id="select-quantile-number" disabled></select>
  
            <h3 class="nci-heading-h3">Other</h3>
            <label class="usa-label text-bold usa-label-short-margin" for="select-measure">Measure</label>
            <select class="usa-select" name="select-measure" id="select-measure" disabled></select>
          </div>
        </div>
        <div class="grid-col-fill display-flex flex-column padding-left-5 padding-right-0" >
          <h1 class="margin-0">County Characteristics Quantile Graphs</h1>
          
          <div class="display-flex flex-justify gap-3 flex-align-end">
            <p class="font-serif-sm">Configurable graphs showing cancer mortality rates (crude or age-adjusted) by quantiles of a selection of county-level characteristics, with optional stratification by race and sex.</p>


            <div class="display-flex gap-1 text-base">
              <i id="button-options" class="settings-button fa-solid fa-gear" tip="Plot settings"></i>
              <i id="button-table" class="settings-button fa-solid fa-table" tip="Show data table"></i>
              <!-- <i id="button-download-image" class="settings-button fas fa-image" tip="Download image"></i> -->
              <i id="button-download" class="settings-button fa-solid fa-download" tip="Download data"></i> 
            </div>
          </div>
          
          
          <div  id="plot-container-container" class="margin-x-0 margin-y-1 height-full flex display-flex flex-justify-center">
            <!-- <h3 id="title" class="margin-0 width-p75 text-center">US age-adjusted cancer mortality rate (per 100,000) by quartile of county-level adult smoking, 2018-2022</h3> -->
            <!-- <div id="plot-container" class="radius-lg shadow-2 display-flex flex-column flex-align-center">
              <h3 id="title" class="margin-0 text-center">Title</h3>
              <div id="plot" style="flex-grow: 1; min-height: 0"></div>
            </div> -->
            <div id="plot-container" class="radius-lg" style="display: grid; grid-template-rows: auto 1fr; min-height: 550px;">
               <h3 id="title" class="margin-0 padding-top-2 padding-x-3 text-center"></h3>
              <div id="plot" style="overflow-x: auto; overflow-y: hidden;"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>


  <div id="table-popup-overlay">
    <div id="table-popup">
      <div class="display-flex flex-justify text-base-darker padding-1">
        <div id="table-popup-title" class="font-serif-sm text-bold position-relative top-1 left-1">Data Table</div>
        <div class="popup-buttons margin-left-2 font-sans-md right-1 position-relative  font-sans-2xl">
          <i id="table-popup-close" class="fas fa-times clickable-button"></i>
        </div>
      </div>

      <div class="display-flex flex-column padding-y-0 padding-x-3 height-full">
        <div class="display-flex flex-justify width-full padding-y-1 ">
          <span id="table-title"></span>
          <i id="button-download-data" class="settings-button fa-solid fa-download text-base" tip="Download data/graphs"></i>
        </div>
  
        <div id="table-container" class="width-full display-flex" style="height: calc(100% - 120px)"></div>
      </div>
    </div>
  </div>

  <div style="position: absolute; left: 0; top:0; opacity: 0; z-index: 1000; background-color: beige; pointer-events:none;">
    <div id="img-template">
      <div id="img-title" ></div>
      <div id="img-plot"></div>
      <div id="img-legend"></div>
      <div id="img-source">Plot Generated by DCEG EpiTracker Cancer</div>
    </div>
  </div>

  <include src="pages/partials/_footer.html"></include>


  
</body>

<!-- <script type="module" src="../logic/quantilePage.js"></script> -->

</html>